import GridManager from"./grid/GridManager.js";import StateManager from"./StateManager.js";document.addEventListener("DOMContentLoaded",(async()=>{const e=document.querySelector("#grid"),t=document.querySelector(".navbar-buttons-visualize"),a=document.querySelector(".navbar-buttons-pause"),n=document.querySelector(".navbar-buttons-step-back"),r=document.querySelector(".navbar-buttons-step-forward"),o=document.querySelector(".navbar-buttons-clear"),i=document.querySelector(".navbar-buttons-random"),s=document.querySelector("#algorithm-select"),c=document.querySelector("#wall-algorithm-select"),d=document.querySelector("#animation-speed-select");let l="dijkstra",u="random",m="normal";if(!e)return;const g=new GridManager(e),p=new StateManager;function y(){const e=p.getState();o.disabled=e,i.disabled=e,s.disabled=e,c.disabled=e;const a=t.querySelector("i");t.querySelector("span");if(e){const e=t.querySelector("span");e&&(e.style.opacity="0",setTimeout((()=>{e.textContent="Stop",e.style.opacity="1"}),150)),a&&(a.setAttribute("data-lucide","square"),"undefined"!=typeof lucide&&lucide.createIcons()),t.classList.remove("btn-primary"),t.classList.add("btn-stop"),g.gridAnimator.showControlButtons()}else{const e=t.querySelector("span");e&&(e.style.opacity="0",setTimeout((()=>{e.textContent="Visualize",e.style.opacity="1"}),150)),a&&(a.setAttribute("data-lucide","play"),"undefined"!=typeof lucide&&lucide.createIcons()),t.classList.remove("btn-stop"),t.classList.add("btn-primary"),g.gridAnimator.hideControlButtons()}}g.createGrid(),p.setAnimationSpeed(m),o.addEventListener("click",(()=>{p.getState()||(g.gridCreator.stopWallGeneration(),g.clearGrid())})),s.addEventListener("change",(function(e){if(!p.getState()){const e=l,t=this.value;g.handleAlgoChange(t,e),l=t}})),t.addEventListener("click",(async()=>{if(p.getState())g.gridAnimator.reset(),await new Promise((e=>requestAnimationFrame(e))),g.gridCreator.clearPaths(),setTimeout((()=>y()),10);else try{g.setAnimationSpeed(m),await g.visualize(l)}catch(e){console.error("Visualization error:",e)}finally{setTimeout((()=>y()),10)}})),a.addEventListener("click",(e=>{e.preventDefault(),g.gridAnimator.togglePauseResume()})),n.addEventListener("click",(e=>{e.preventDefault(),g.gridAnimator.stepBack()})),r.addEventListener("click",(e=>{e.preventDefault(),g.gridAnimator.stepForward()})),i.addEventListener("click",(async()=>{p.getState()||await g.addRandomWalls()})),c.addEventListener("change",(function(e){p.getState()||(u=this.value,console.log("Wall algorithm changed to:",u))})),d.addEventListener("change",(function(e){const t=this.value;m=t,p.setAnimationSpeed(t),g.setAnimationSpeed(t),console.log("Animation speed changed to:",t)})),y();const S=p.setState.bind(p);p.setState=function(e){S(e),y()}}));
//# sourceMappingURL=script.js.map